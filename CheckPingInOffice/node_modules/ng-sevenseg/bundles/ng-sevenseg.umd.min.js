!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common")):"function"==typeof define&&define.amd?define("ng-sevenseg",["exports","@angular/core","@angular/common"],t):t(e["ng-sevenseg"]={},e.ng.core,e.ng.common)}(this,function(e,t,n){"use strict";var r=function(){function e(){this["class"]="",this._viewInit=!1,this._value=null,this.digits=1,this.decimalPlaces=0}return e.prototype.ngOnInit=function(){this.allDigits=[];for(var e=0;e<this.digits;e++)this.allDigits.push(e)},e.prototype.ngAfterViewInit=function(){this._viewInit=!0,this.renderAll()},Object.defineProperty(e.prototype,"viewBox",{get:function(){return"0 0 "+57*this.digits+" 80"},enumerable:!0,configurable:!0}),e.prototype.groupTransform=function(e){return"translate("+57*e+" 0)"},Object.defineProperty(e.prototype,"value",{set:function(e){var t=Math.pow(10,this.decimalPlaces);this._value=Math.round(e*t)/t,this.renderAll()},enumerable:!0,configurable:!0}),e.prototype.renderAll=function(){if(this._viewInit)if(null!=this._value){var i=Math.round(this._value*Math.pow(10,this.decimalPlaces)),s=this.digits,o=0<this.decimalPlaces?this.digits-this.decimalPlaces-1:-1,a=!0;this.digitComponents.forEach(function(e,t){e.showDecimal=t===o;var n=Math.pow(10,s-t-1),r=i/n;i%=n,0<Math.floor(r)&&(a=!1),e.digit=null==i||a&&t<s-1?null:t===s-1?Math.round(r):Math.floor(r)})}else this.digitComponents.forEach(function(e){return e.digit=null})},e}();r.decorators=[{type:t.Injectable},{type:t.Component,args:[{selector:"seven-seg",template:'<svg style="display: none;">\n  <defs>\n    <polyline id="h-seg" points="11 0, 37 0, 42 5, 37 10, 11 10, 6 5" />\n    <polyline id="v-seg" points="0 11, 5 6, 10 11, 10 34, 5 39, 0 39" />\n    <circle id="dot" cx="52" cy="75" r="5" />\n    <use id="seg0" href="#h-seg" transform="translate(0 0)"/>\n    <use id="seg1" href="#v-seg" transform="translate(48) scale(-1 1)" />\n    <use id="seg2" href="#v-seg" transform="translate(48 80) scale(-1 -1)" />\n    <use id="seg3" href="#h-seg" transform="translate(0 70)"/>\n    <use id="seg4" href="#v-seg" transform="translate(0 80) scale(1 -1)" />\n    <use id="seg5" href="#v-seg" transform="translate(0 0)" />\n    <use id="seg6" href="#h-seg" transform="translate(0 35)"/>\n  </defs>\n</svg>\n\n<svg [attr.viewBox]="viewBox" focusable="false" display>\n  <g [attr.transform]="groupTransform(i)" *ngFor="let i of allDigits" idx="{{i}}" #digit sevenSegDigit></g>\n</svg>\n',styles:["svg{height:3em;overflow:hidden;stroke-width:0;background-color:#000;fill:red}"]}]}],r.ctorParameters=function(){return[]},r.propDecorators={digits:[{type:t.Input}],decimalPlaces:[{type:t.Input}],"class":[{type:t.Input}],digitComponents:[{type:t.ViewChildren,args:["digit"]}],value:[{type:t.Input}]};var s=[63,6,91,79,102,109,125,7,127,111],i=function(){function e(e){this.renderer=e,this._showDecimal=!1,this.allSegments=[];for(var t=0;t<7;t++)this.allSegments.push(t)}return Object.defineProperty(e.prototype,"digit",{get:function(){return this._digitValue},set:function(e){this._digitValue=e,this.render()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showDecimal",{get:function(){return this._showDecimal},set:function(e){this._showDecimal=e},enumerable:!0,configurable:!0}),e.prototype.ngAfterViewInit=function(){this.render()},e.prototype.render=function(){var r=this,i=s[this._digitValue];this.segments.forEach(function(e,t){var n=e.nativeElement;i>>t&1?(r.renderer.setAttribute(n,"segmentOn",""),r.renderer.removeAttribute(n,"segmentOff")):(r.renderer.setAttribute(n,"segmentOff",""),r.renderer.removeAttribute(n,"segmentOn")),n.style.display="none",n.style.display=""});var e=this.point.nativeElement;this._showDecimal?(this.renderer.setAttribute(e,"segmentOn",""),this.renderer.removeAttribute(e,"segmentOff")):(this.renderer.setAttribute(e,"segmentOff",""),this.renderer.removeAttribute(e,"segmentOn")),e.style.display="none",e.style.display=""},e}();i.decorators=[{type:t.Component,args:[{selector:"[sevenSegDigit]",template:'<svg:use *ngFor="let j of allSegments" [attr.href]="\'#seg\'+j" #seg />\n<svg:use href="#dot" #dot />\n',styles:["[segmentOn]{opacity:1}[segmentOff]{opacity:.2}"]}]}],i.ctorParameters=function(){return[{type:t.Renderer2}]},i.propDecorators={segments:[{type:t.ViewChildren,args:["seg",{read:t.ElementRef}]}],point:[{type:t.ViewChild,args:["dot"]}],idx:[{type:t.Input}]};var o=function(){};o.decorators=[{type:t.NgModule,args:[{imports:[n.CommonModule],declarations:[r,i],exports:[r]}]}],e.SevenSegModule=o,e.ɵb=i,e.ɵa=r,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ng-sevenseg.umd.min.js.map
